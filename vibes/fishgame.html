<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pirate Cats Having Fun 🏴‍☠️🐱</title>
    <style>
      html,
      body {
        margin: 0;
        height: 100%;
        overflow: hidden;
        background: radial-gradient(circle at 50% 20%, #7ed6df 0%, #22a6b3 80%);
        font-family: 'Trebuchet MS', sans-serif;
      }
      #game {
        display: block;
        width: 100%;
        height: 100%;
      }
      #overlay {
        position: absolute;
        top: 10px;
        left: 0;
        right: 0;
        text-align: center;
        color: #fff;
        font-size: 1.3em;
        text-shadow: 2px 2px 4px #000;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <canvas id="game"></canvas>
    <div id="overlay">🏴‍☠️ Pirate Cats Having Fun — Click treasures & fish! 🐟💰</div>

    <script>
      const canvas = document.getElementById('game')
      const ctx = canvas.getContext('2d')
      let W, H

      function resize() {
        W = canvas.width = window.innerWidth
        H = canvas.height = window.innerHeight
      }
      window.addEventListener('resize', resize)
      resize()

      function rand(a, b) {
        return Math.random() * (b - a) + a
      }
      function pick(arr) {
        return arr[Math.floor(Math.random() * arr.length)]
      }

      // --- entities ---
      const pirateCats = []
      const treasures = []
      const fishies = []
      let score = 0

      const catFaces = ['😺', '😸', '😹', '😻', '😼']
      const pirateHats = ['🏴‍☠️', '🦜', '🪶', '💀', '⚓']
      const fishIcons = ['🐟', '🐠', '🐡']
      const chestIcons = ['💰', '💎', '🪙', '🗝️', '🏝️']

      // Create pirates
      for (let i = 0; i < 6; i++) {
        pirateCats.push({
          x: rand(100, W - 100),
          y: rand(100, H - 100),
          vx: rand(-2, 2),
          vy: rand(-2, 2),
          face: pick(catFaces),
          hat: pick(pirateHats),
          size: rand(45, 65),
          rot: rand(0, Math.PI * 2),
        })
      }

      function spawnFish() {
        fishies.push({
          x: rand(50, W - 50),
          y: rand(50, H - 50),
          emo: pick(fishIcons),
          life: 500 + rand(0, 400),
          size: 40,
        })
      }

      function spawnTreasure() {
        treasures.push({
          x: rand(50, W - 50),
          y: rand(50, H - 50),
          emo: pick(chestIcons),
          life: 700 + rand(0, 400),
          size: 50,
        })
      }

      setInterval(spawnFish, 1600)
      setInterval(spawnTreasure, 5000)

      canvas.addEventListener('click', (e) => {
        const mx = e.clientX,
          my = e.clientY
        ;[...fishies, ...treasures].forEach((obj, i) => {
          const dist = Math.hypot(obj.x - mx, obj.y - my)
          if (dist < 50) {
            obj.life = 0
            score += obj.size > 45 ? 5 : 1
            pirateCats.forEach((c) => {
              c.vx += rand(-1, 1)
              c.vy += rand(-1, 1)
            })
          }
        })
      })

      // --- main draw ---
      function draw() {
        ctx.clearRect(0, 0, W, H)

        // background sea shimmer
        const grd = ctx.createLinearGradient(0, 0, 0, H)
        grd.addColorStop(0, '#7ed6df')
        grd.addColorStop(1, '#22a6b3')
        ctx.fillStyle = grd
        ctx.fillRect(0, 0, W, H)

        // draw fish
        ctx.font = '40px serif'
        fishies.forEach((f) => {
          ctx.save()
          ctx.translate(f.x, f.y + Math.sin(Date.now() / 200 + f.x) * 5)
          ctx.fillText(f.emo, 0, 0)
          ctx.restore()
          f.life--
        })
        for (let i = fishies.length - 1; i >= 0; i--) if (fishies[i].life <= 0) fishies.splice(i, 1)

        // draw treasures
        ctx.font = '50px serif'
        treasures.forEach((t) => {
          ctx.save()
          ctx.translate(t.x, t.y)
          ctx.rotate(Math.sin(Date.now() / 400 + t.x * 0.01) * 0.1)
          ctx.fillText(t.emo, 0, 0)
          ctx.restore()
          t.life--
        })
        for (let i = treasures.length - 1; i >= 0; i--) if (treasures[i].life <= 0) treasures.splice(i, 1)

        // draw pirate cats
        pirateCats.forEach((c) => {
          c.x += c.vx
          c.y += c.vy
          if (c.x < 0 || c.x > W) c.vx *= -1
          if (c.y < 0 || c.y > H) c.vy *= -1

          ctx.save()
          ctx.translate(c.x, c.y)
          ctx.rotate(Math.sin(Date.now() / 500 + c.x * 0.01) * 0.3)
          ctx.textAlign = 'center'
          ctx.font = c.size + 'px serif'
          ctx.fillText(c.face, 0, 0)
          ctx.font = c.size * 0.6 + 'px serif'
          ctx.fillText(c.hat, 0, -c.size * 0.8)
          ctx.restore()
        })

        // score overlay
        document.getElementById('overlay').innerText = `🏴‍☠️ Score: ${score} 🐟💰`

        requestAnimationFrame(draw)
      }
      draw()
    </script>
  </body>
</html>
